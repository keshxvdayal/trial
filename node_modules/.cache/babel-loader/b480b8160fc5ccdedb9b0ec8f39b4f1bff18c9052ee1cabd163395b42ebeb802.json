{"ast":null,"code":"var ObjectComponent = require('../core/ObjectComponent');\nvar NumberInput_Internal = require('./NumberInput_Internal');\nvar Node = require('../core/document/Node');\nvar Options = require('./Options');\nvar ButtonPreset = require('./ButtonPreset');\nvar CSS = require('../core/document/CSS'),\n  Metric = require('./Metric');\nvar Event_ = require('../core/event/Event'),\n  DocumentEvent = require('../core/document/DocumentEvent'),\n  NodeEvent = require('../core/document/NodeEvent'),\n  ComponentEvent = require('../core/ComponentEvent');\nvar DEFAULT_INPUT_DP = 2,\n  DEFAULT_INPUT_STEP = 1,\n  DEFAULT_INPUT_PRESET = null;\nfunction NumberInput(parent, object, value, params) {\n  ObjectComponent.apply(this, arguments);\n  params = params || {};\n  params.onBegin = params.onBegin || null;\n  params.onChange = params.onChange || this._onChange;\n  params.onFinish = params.onFinish || null;\n  params.onError = params.onError || null;\n  params.dp = params.dp === undefined || params.dp == null ? DEFAULT_INPUT_DP : params.dp;\n  params.step = params.step || DEFAULT_INPUT_STEP;\n  params.presets = params.presets || DEFAULT_INPUT_PRESET;\n  this._onBegin = params.onBegin;\n  this._onChange = params.onChange;\n  this._presetsKey = params.presets;\n  var input = this._input = new NumberInput_Internal(params.step, params.dp, params.onBegin, this._onInputChange.bind(this), params.onFinish, params.onError);\n  var wrap = this._wrapNode;\n  var presets = params.presets;\n  if (!presets) {\n    wrap.addChild(input.getNode());\n  } else {\n    var wrap_ = new Node();\n    wrap_.setStyleClass(CSS.WrapInputWPreset);\n    wrap.addChild(wrap_);\n    wrap_.addChild(input.getNode());\n    var options = Options.get();\n    var presetBtn = this._btnPreset = new ButtonPreset(this._wrapNode);\n    var onPresetDeactivate = function () {\n      options.clear();\n      presetBtn.deactivate();\n    };\n    var self = this;\n    var onPresetActivate = function () {\n      options.build(presets, input.getValue(), input.getNode(), function () {\n        input.setValue(presets[options.getSelectedIndex()]);\n        self.applyValue();\n        self._onChange(self._obj[self._key]);\n      }, onPresetDeactivate, Metric.PADDING_PRESET, false);\n    };\n    presetBtn.setOnActive(onPresetActivate);\n    presetBtn.setOnDeactive(onPresetDeactivate);\n  }\n  input.getNode().addEventListener(NodeEvent.MOUSE_DOWN, this._onInputDragStart.bind(this));\n  this.addEventListener(ComponentEvent.INPUT_SELECT_DRAG, this._parent, 'onComponentSelectDrag');\n  input.setValue(this._obj[this._key]);\n}\nNumberInput.prototype = Object.create(ObjectComponent.prototype);\nNumberInput.prototype.constructor = NumberInput;\nNumberInput.prototype._onInputChange = function () {\n  this.applyValue();\n  this._onChange(this._obj[this._key]);\n};\nNumberInput.prototype.applyValue = function () {\n  this.pushHistoryState();\n  this._obj[this._key] = this._input.getValue();\n  this.dispatchEvent(new Event_(this, ComponentEvent.VALUE_UPDATED, null));\n};\nNumberInput.prototype.onValueUpdate = function (e) {\n  if (e.data.origin == this) {\n    return;\n  }\n  this._input.setValue(this._obj[this._key]);\n};\n\n//Prevent chrome select drag\nNumberInput.prototype._onInputDragStart = function () {\n  var eventMove = DocumentEvent.MOUSE_MOVE,\n    eventUp = DocumentEvent.MOUSE_UP;\n  var event = ComponentEvent.INPUT_SELECT_DRAG;\n  var self = this;\n  var onDrag = function () {\n      self.dispatchEvent(new Event_(this, event, null));\n    },\n    onDragFinish = function () {\n      self.dispatchEvent(new Event_(this, event, null));\n      document.removeEventListener(eventMove, onDrag, false);\n      document.removeEventListener(eventMove, onDragFinish, false);\n    };\n  this.dispatchEvent(new Event_(this, event, null));\n  document.addEventListener(eventMove, onDrag, false);\n  document.addEventListener(eventUp, onDragFinish, false);\n};\nmodule.exports = NumberInput;","map":{"version":3,"names":["ObjectComponent","require","NumberInput_Internal","Node","Options","ButtonPreset","CSS","Metric","Event_","DocumentEvent","NodeEvent","ComponentEvent","DEFAULT_INPUT_DP","DEFAULT_INPUT_STEP","DEFAULT_INPUT_PRESET","NumberInput","parent","object","value","params","apply","arguments","onBegin","onChange","_onChange","onFinish","onError","dp","undefined","step","presets","_onBegin","_presetsKey","input","_input","_onInputChange","bind","wrap","_wrapNode","addChild","getNode","wrap_","setStyleClass","WrapInputWPreset","options","get","presetBtn","_btnPreset","onPresetDeactivate","clear","deactivate","self","onPresetActivate","build","getValue","setValue","getSelectedIndex","applyValue","_obj","_key","PADDING_PRESET","setOnActive","setOnDeactive","addEventListener","MOUSE_DOWN","_onInputDragStart","INPUT_SELECT_DRAG","_parent","prototype","Object","create","constructor","pushHistoryState","dispatchEvent","VALUE_UPDATED","onValueUpdate","e","data","origin","eventMove","MOUSE_MOVE","eventUp","MOUSE_UP","event","onDrag","onDragFinish","document","removeEventListener","module","exports"],"sources":["/Users/jarvis/Desktop/Porfolio/KESHAV'S portfolio/Portfolio/node_modules/controlkit/lib/component/NumberInput.js"],"sourcesContent":["var ObjectComponent = require('../core/ObjectComponent');\nvar NumberInput_Internal = require('./NumberInput_Internal');\n\nvar Node = require('../core/document/Node');\n\nvar Options = require('./Options');\nvar ButtonPreset = require('./ButtonPreset');\nvar CSS = require('../core/document/CSS'),\n    Metric = require('./Metric');\n\nvar Event_ = require('../core/event/Event'),\n    DocumentEvent = require('../core/document/DocumentEvent'),\n    NodeEvent = require('../core/document/NodeEvent'),\n    ComponentEvent = require('../core/ComponentEvent');\n\nvar DEFAULT_INPUT_DP     = 2,\n    DEFAULT_INPUT_STEP   = 1,\n    DEFAULT_INPUT_PRESET = null;\n\n\n\nfunction NumberInput(parent,object,value,params) {\n    ObjectComponent.apply(this,arguments);\n\n    params          = params || {};\n    params.onBegin  = params.onBegin || null;\n    params.onChange = params.onChange || this._onChange;\n    params.onFinish = params.onFinish || null;\n    params.onError  = params.onError || null;\n    params.dp       = (params.dp === undefined || params.dp == null) ? DEFAULT_INPUT_DP : params.dp;\n    params.step     = params.step     || DEFAULT_INPUT_STEP;\n    params.presets  = params.presets  || DEFAULT_INPUT_PRESET;\n\n    this._onBegin     = params.onBegin;\n    this._onChange    = params.onChange;\n    this._presetsKey  = params.presets;\n\n    var input = this._input = new NumberInput_Internal(params.step,\n                                                       params.dp,\n                                                       params.onBegin,\n                                                       this._onInputChange.bind(this),\n                                                       params.onFinish,\n                                                       params.onError);\n\n    var wrap = this._wrapNode;\n\n    var presets =  params.presets;\n    if (!presets) {\n        wrap.addChild(input.getNode());\n    }\n    else {\n        var wrap_ = new Node();\n            wrap_.setStyleClass(CSS.WrapInputWPreset);\n\n        wrap.addChild(wrap_);\n        wrap_.addChild(input.getNode());\n\n        var options   = Options.get();\n        var presetBtn = this._btnPreset = new ButtonPreset(this._wrapNode);\n\n        var onPresetDeactivate = function(){\n            options.clear();\n            presetBtn.deactivate();\n        };\n\n        var self = this;\n        var onPresetActivate = function () {\n            options.build(presets, input.getValue(), input.getNode(),\n                function () {\n                    input.setValue(presets[options.getSelectedIndex()]);\n                    self.applyValue();\n                    self._onChange(self._obj[self._key]);\n                },\n                onPresetDeactivate, Metric.PADDING_PRESET,\n                false);\n        };\n        presetBtn.setOnActive(onPresetActivate);\n        presetBtn.setOnDeactive(onPresetDeactivate)\n    }\n\n    input.getNode().addEventListener(NodeEvent.MOUSE_DOWN,   this._onInputDragStart.bind(this));\n    this.addEventListener(ComponentEvent.INPUT_SELECT_DRAG,this._parent,'onComponentSelectDrag');\n\n    input.setValue(this._obj[this._key]);\n}\nNumberInput.prototype = Object.create(ObjectComponent.prototype);\nNumberInput.prototype.constructor = NumberInput;\n\nNumberInput.prototype._onInputChange = function () {\n    this.applyValue();\n    this._onChange(this._obj[this._key]);\n};\n\nNumberInput.prototype.applyValue = function() {\n    this.pushHistoryState();\n    this._obj[this._key] = this._input.getValue();\n    this.dispatchEvent(new Event_(this,ComponentEvent.VALUE_UPDATED,null));\n};\n\nNumberInput.prototype.onValueUpdate = function (e) {\n    if (e.data.origin == this){\n        return;\n    }\n    this._input.setValue(this._obj[this._key]);\n};\n\n//Prevent chrome select drag\nNumberInput.prototype._onInputDragStart = function () {\n    var eventMove = DocumentEvent.MOUSE_MOVE,\n        eventUp = DocumentEvent.MOUSE_UP;\n\n    var event = ComponentEvent.INPUT_SELECT_DRAG;\n\n    var self = this;\n\n    var onDrag = function () {\n            self.dispatchEvent(new Event_(this, event, null));\n        },\n        onDragFinish = function () {\n            self.dispatchEvent(new Event_(this, event, null));\n            document.removeEventListener(eventMove, onDrag, false);\n            document.removeEventListener(eventMove, onDragFinish, false);\n        };\n\n    this.dispatchEvent(new Event_(this, event, null));\n\n    document.addEventListener(eventMove, onDrag, false);\n    document.addEventListener(eventUp, onDragFinish, false);\n};\n\nmodule.exports = NumberInput;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}